### 静态代理动态代理,CGlib
#### 什么是代理
代理是一种设计模式,使用一个代理对象来对目标对象进行扩展和增强;
#### 静态代理
主要分为三个部分:目标接口,目标接口实现,代理类;
**优点** 可以实现不对目标对象进行修改的前提下,对目标对象进行功能的扩展和增加;
**缺点** 因为代理对象,需要实现与目标对象一样的接口,如果目标接口类繁多,也会导致代理类繁多,同时一旦接口增加方法,那么目标对象和代理类都需要维护;
#### 动态代理
在jdk提供的动态代理中,代理类要去实现InvocationHandler接口,接口中的invoke方法就会在目标方法调用时执行;
```java
   public class ProxyClass implements InvocationHandler{
        private Object target;
        public ProxyClass(Objcet target){
            this.target=target;
        }
        //proxy代理类 method代表目标方法 args代表方法的参数
        public Object invoke(Object proxy,Method method,Object[] asgs){
        System.out.println("前----------");
        //这是真正的目标方法
        Object result= method.invoke(target,args);
        System.out.println("后----------");
        return result;
        }
    }
```
```java
    public class Client{
        public static void main(String[] args){
            TargetClass targerClass=(TargetClass) Proxy.newProxyInstance(TargerClass.class.getClassLoader(),new Class<?>[]{TaragetClass.class},new ProxyClass(new TargerClassImpl()));
        }
    }
```
##### jdk的动态代理是怎实现的